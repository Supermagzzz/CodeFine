<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="test.js"></script>
</head>
<body>
<div style="margin: -7px">
    <div class="name">Функции</div>
    <hr>
    <div class="block">
        <p>
            На прошлом занятии вы познакомились со встроенными алгоритмами. Они представляют из себя функции и необходимы для того, чтобы сократить длинную
            реализуцию до одной строчки. Особенно это удобно, если вам нужно использовать этот алгоритм несколько раз. Например, если
            вы пишете большое приложение, и вам часто необходимо сортировать массив. Намного удобнее пользоваться функцией sort, чем каждый раз заново
            реализовывать этот алгоритм.
        </p>
        <p>
            Сегодня мы научимся писать свои собственные функции. Главная проблема, которую решает эта часть языка <b>C++</b> - проблема копирования кода.<br><br>

            Допустим, у вас есть код, который проверяет правильность введеного пользователем номера телефона и часто используется в вашей программе.<br><br>
            
            Предположим, что через некоторое время появляется новый формат телефонных номеров. Или вы просто решили изменить алгоритм проверки. Что делать в таком
            случае? Вам придется искать в вашей программе все места, где встречается этот код, и изменять его. Но если бы вы реализовали алгоритм проверки,
            как функцию, а потом использовали ее в своей программе, то код пришлось бы изменить только в одном месте.
        </p>
        <p>
            Давайте посмотрим на программу, где реализована функция приветствия пользователя:
            <div class="code_block_b">
                <code>
                    <gr>#include &lt;iostream&gt;</gr><br>
                    <gr>#include &lt;string&gt;</gr><br>
                    <br>
                    <bl>using namespace std</bl>;<br>
                    <br>
                    <bl>void</bl> sayHello(<gr>string</gr> s)<br>
                    {<br>
                    <t><gr>cout</gr> <re><<</re> <gr>"Hi, "</gr> <re><<</re> s <re><<</re> <gr>endl</gr>;</t><br>
                    }<br>
                    <br>
                    <bl>int</bl> main()<br>
                    {<br>
                    <t><gr>string</gr> name;</t><br>
                    <t><gr>cin</gr> <re>>></re> name</t>;<br>
                    <t>sayHello(name);</t><br>
                    <t><gr>// Оставшийся код программы...</gr></t><br>
                    }<br>
                </code>
            </div>
        </p>
        <p>
            Вы увидели много нового синтаксиса. Давайте начнем разбираться.
        </p>
        <p>
            Оказывается, что <b>int main()</b> в котором мы писали код раньше, сам представляет из себя функцию. Когда ваша программа
            запускается, компьютер вызывает функцию <b>main()</b>, и код внутри нее выполняется. Вот почему код необходимо
            писать именно в функции <b>main</b>.<br><br> В одной функции нельзя создать другую функцию. Поэтому новые функции мы создаем за пределами
            <b>int main()</b>.
        </p>
        <p>
            Любая функция строится следующим образом:
        </p>
        <div class="code_block_b">
            <code>
                <bl>тип данных, возвращаемых функцией</bl> <gr>название функции</gr>(<re>аргументы</re>)<br>
                {<br>
                <t><pu>код функции</pu></t><br>
                }<br>
            </code>
        </div>
        <p>
            Функция получает какие-то данные на вход, выполняет какие-то действия и возвращает результат.
            Например, функция <b>min(a, b)</b> получает на вход два числа, выбирает из них минимальное и возвращает его.<br><br>
            Данные, которые функция получает, называются <b>аргументами</b>.<br><br>
            Если функции не нужны аргументы, то можно оставить скобки функции пустыми. Например, функция <b>int main()</b> не нуждается
            в аргументах, так как все нужные входные данные вы считываете из консоли.<br><br>
            Функция может ничего не возвращать, как например функция <b>sort()</b>, тогда используется тип <b>void</b>, а если возвращает, то используется
            тип возвращаемых данных. Чтобы вернуть что-то, нужно использовать команду <b>return</b>.
        </p>
        <p>
            Реализация функции <b>min(a, b)</b>:
        </p>
        <div class="code_block_b">
            <code>
                <bl>int</bl> min(<bl>int</bl> a, <bl>int</bl> b)<br>
                {<br>
                <t><bl>if</bl>(a <re><</re> b)</t><br>
                <t>{</t><br>
                <t><t><re>return</re> a;</t></t><br>
                <t>}</t><br>
                <t><bl>else</bl></t><br>
                <t>{</t><br>
                <t><t><re>return</re> b;</t></t><br>
                <t>}</t><br>
                }<br>
            </code>
        </div>
        <p>
            Аргументы указываются через запятую, в формате <b>тип аргумента имя аргумента</b>. Вы как-будто создаете здесь новые переменные,
            которые хотите использовать, а задаете значения, когда вызываете функцию из кода.<br><br>
            Вызывая функцию, нужно передавать данные
            именно в том порядке, в котором находятся ее аргументы.<br><br>
            Функция из примера выше принимает на вход два целых числа и возвращает
            целое число. Поэтому, когда вы используете эту функцию вы должны присваивать ее результат какой-либо переменной.
        </p>
        <div class="code_block_b">
            <code>
                <bl>int</bl> a = <pu>2</pu>, b = <pu>5</pu>;<br>
                <bl>int</bl> x = <gr>min</gr>(a, b);<br>
            </code>
        </div>
        <p>
            Наверное, у вас появился вопрос, почему функция <b>int main()</b> должна возвращать целое число, но не делает этого?
            Функция <b>main()</b> возвращает успешность своего выполнения. Если она возвращает <b>0</b>, значит программа выполнилась успешно.
            А если какое-нибудь другое число, значит в программе произошла ошибка <b>(Ошибка времени выполнения)</b>. <br><br>
            В <b>C++</b>, если
            вы не написали <b>return</b> в конце функции, которая возвращает целое число, то она автоматически вернет <b>0</b>. Именно
            поэтому мы можем убрать строчку <b>return 0;</b> из функции <b>int main()</b> без всяких последствий. Но в остальных функциях желательно
            так не делать (это может привести к неожиданным ошибкам).
        </p>
        <p>
            Мы изучили сложную и очень важную тему в программировании. Советуем еще раз перечитать все вышесказанное, так как там много
            нового синтаксиса.<br><br>
            Сейчас мы начнем изучать
            более сложные применения функций. Чтобы убедиться, что вы все поняли, разберите следующий пример кода, где мы реализуем функцию ввода пароля
            для доступа в приложение. Если пользователь ввел неверный пароль, то ему выводится информация об этом и предоставляется возможность ввести другой пароль.
            Если пользователь ввел символ <b>'-'</b>, значит он перестает пытаться войти в приложение. Функция возвращает <b>true</b>, если пользователю
            можно дать доступ, и если нельзя - <b>false</b>. На вход функции подается правильный пароль.
        </p>
        <div class="code_block_b">
            <code>
                <bl>bool</bl> checkPass(<gr>string</gr> rightPassword)<br>
                {<br>
                <t><bl>while</bl>(<bl>true</bl>)</t><br>
                <t>{</t><br>
                <t><t><gr>cout</gr> <re><<</re> <gr>"Enter your password"</gr> <re><<</re> <gr>endl</gr>;</t></t><br>
                <t><t><gr>string</gr> pass;</t></t><br>
                <t><t><gr>cin</gr> <re>>></re> pass;</t></t><br>
                <t><t><bl>if</bl> (pass <re>==</re> <gr>"-"</gr>)</t></t><br>
                <t><t>{</t></t><br>
                <t><t><t><re>return</re> <bl>false</bl>;</t></t></t><br>
                <t><t>}</t></t><br>
                <t><t><bl>else if</bl> (pass <re>==</re> rightPassword)</t></t><br>
                <t><t>{</t></t><br>
                <t><t><t><re>return</re> <bl>true</bl>;</t></t></t><br>
                <t><t>}</t></t><br>
                <t><t><bl>else</bl></t></t><br>
                <t><t>{</t></t><br>
                <t><t><t><gr>cout</gr> <re><<</re> <gr>"Please, try again"</gr> <re><<</re> <gr>endl</gr>;</t></t></t><br>
                <t><t>}</t></t><br>
                <t>}</t><br>
                }<br>
            </code>
        </div>
        <div class="h">Области видимости</div><hr>
        <p>
            <b>Область видимости переменной</b> - то место в программе, где переменная существует.<br><br>

            Каждая переменная существует только внутри того блока кода
            (блок кода - часть кода отделенная фигурными скобками), где она была объявлена.<br>
            Cоздав переменную внутри функции, ее будет видеть только эта функция. А, создав переменную внутри цикла, ее будет видеть только
            этот цикл. Ниже приведено два примера кода, которые дадут ошибку компиляции при запуске:
        </p>
        <div class="code_block_b error_code">
            <code>
                <gr>cout</gr> <re><<</re> x;<br>
                <bl>int</bl> x = <pu>4</pu>;
            </code>
        </div>
        <br>
        <div class="code_block_b error_code">
            <code>
                <bl>if</bl>(<pu>2</pu> < <pu>5</pu>)<br>
                {<br>
                <t><bl>int</bl> x = <pu>3</pu>;</t><br>
                }<br>
                <gr>cout</gr> <re><<</re> x;<br>
            </code>
        </div>
        <p>
            Во втором случае надо создать переменную x до условия, а в блоке кода условия оставить только присвоение значения. Тогда код будет работать
            верно.
        </p>
        <div class="code_block_b">
            <code>
                <bl>int</bl> x = <pu>0</pu>;<br>
                <bl>if</bl>(<pu>2</pu> < <pu>5</pu>)<br>
                {<br>
                <t>x = <pu>3</pu>;</t><br>
                }<br>
                <gr>cout</gr> <re><<</re> x;<br>
            </code>
        </div>
        <p>
            Переменная <b>x</b> видна и в условии и после него.
        </p>
        <p>
            Те же правила действуют и на функции. Можно вызвать одну функцию из другой, только если та находится выше.
        </p>
        <p>
            Существуют глобальные переменные. Это переменные, которые были объявлены вне функций. К ним может иметь доступ вся программа.
            Их использование считается плохим стилем программирования, так они обычно усложняют логику программы. Но если ими не
            злоупотреблять, то они могут стать мощным инструментом.<br>Пример:
        </p>
        <div class="code_block_b">
            <code>
                <gr>#include &lt;iostream&gt;</gr><br>
                <gr>#include &lt;string&gt;</gr><br>
                <br>
                <bl>using namespace std</bl>;<br>
                <br>
                <gr>string</gr> name;<br>
                <br>
                <bl>void</bl> sayHello()<br>
                {<br>
                <t><gr>cout</gr> <re><<</re> <gr>"Hi, "</gr> <re><<</re> name <re><<</re> <gr>endl</gr>;</t><br>
                }<br>
                <br>
                <bl>int</bl> main()<br>
                {<br>
                <t><gr>cin</gr> <re>>></re> name</t>;<br>
                <t>sayHello();</t><br>
                <t><gr>// Оставшийся код программы...</gr></t><br>
                }<br>
            </code>
        </div>
        <p>
            Конечно, здесь было бы лучше обойтись без глобальной переменной, передав ее в качестве аргумента, как мы делали в начале статьи.
            В следующих курсах мы покажем примеры удобного использования глобальных переменных. С опытом вы и сами поймете, в каких ситуациях их использование допустимо.
        </p>
        <div class="h">Компараторы</div><hr>
        В функцию <b>sort()</b> третьим аргументом можно передать функцию. Она должна получать на вход
        два элемента массива и возвращать <b>true</b> - если первый должен стоять раньше второго, и <b>false</b> - если наоборот. Такая функция
        называется <b>компаратором</b>. Например:
        </p>
        <div class="code_block_b">
            <code>
                <bl>bool</bl> cmp(<bl>int</bl> a, <bl>int</bl> b)<br>
                {<br>
                <t><re>return</re> a < b;</t><br>
                }<br>
            </code>
        </div>
        <p>
        Это стандартный компаратор в сортировке. Если вы хотите отсортировать массив не по возрастанию, а по убыванию, то следует использовать такой
        компаратор:
    </p>
        <div class="code_block_b">
            <code>
                <bl>bool</bl> cmp(<bl>int</bl> a, <bl>int</bl> b)<br>
                {<br>
                <t><re>return</re> a > b;</t><br>
                }<br>
            </code>
        </div>
        <p>
        А если вы хотите, чтобы сначала шли четные числа, а потом нечетные, то можно использовать следующий:
    </p>
        <div class="code_block_b">
            <code>
                <bl>bool</bl> cmp(<bl>int</bl> a, <bl>int</bl> b)<br>
                {<br>
                <t><re>return</re> a % 2 < b % 2;</t><br>
                }<br>
            </code>
        </div>
        <p>
        Это сортировка по остатку от деления на два.<br><br> 

        Как использовать компаратор? Вот так:
        <div class="code_block_b">
            <code>
                <gr>sort</gr>(a, a + n, cmp);
            </code>
        </div><br>
        Мы рассмотрели простые примеры, но иногда вы можете придумать дейтсвительно сложное условие для сортировки
        и написать большой компаратор. 
    </p>
        <br>
        <div class="h">Необязательные аргументы</div><hr>
        Почему функции sort можно не передавать третий аргумент? <br><br>
        В функции sort есть третий необязательный
        аргумент. Для того, чтобы использовать эту возможность в своих функциях, во время объявления приравняйте
        чему-то переменную-аргумент. Пример:
        <div class="code_block_b">
            <code>
                <bl>void</bl> sayHello(<gr>string</gr> s = <gr>"Jon"</gr>)<br>
                {<br>
                <t><gr>cout</gr> <re><<</re> <gr>"Hi, "</gr> <re><<</re> s <re><<</re> <gr>endl</gr>;</t><br>
                }<br>
            </code>
        </div>
        Теперь если вы вызовете функцию без передачи аргументов, то <b>s</b> автоматически присвоится <b>Jon</b>.
        <div class="code_block_b">
            <code>
                <gr>sayHello</gr>(<gr>"Max"</gr>);<br>
                <gr>// Hi, Max</gr><br>
                <gr>sayHello</gr>();<br>
                <gr>// Hi, Jon</gr><br>
            </code>
        </div>
        В каждой функции могут быть, как обязательные, так и не обязательные аргументы. Например, для <b>sort</b> указатель на начало и конец массива
        является обязательным, а компаратор необязательным. Но учтите, что обязательные аргументы должны идти раньше
        необязательных в объявлении функции.<br>
        Так писать нельзя:
        <div class="code_block_b error_code">
            <code>
                <bl>int</bl> f(<bl>int</bl> x = <pu>5</pu>, <bl>int</bl> a)
            </code>
        </div>
        Это вызовет ошибку компиляции. Аргументы должны идти в таком порядке:
        <div class="code_block_b">
            <code>
                <bl>int</bl> f(<bl>int</bl> a, <bl>int</bl> x = <pu>5</pu>)
            </code>
        </div>
        <div class="h">Передача массива в функцию</div>
        Можно разными способами передать массив в функцию. Самый удобный - следующий:
        <div class="code_block_b">
            <code>
                <gr>#include &lt;iostream&gt;</gr><br>
                <br>
                <bl>using namespace std;</bl><br>
                <br>
                <bl>void</bl> print(<bl>int</bl> a[], <bl>int</bl> n)<br>
                {<br>
                <t><bl>for</bl>(<bl>int</bl> i = <pu>0</pu>; i < n; i++)</t><br>
                <t>{</t><br>
                <t><t><gr>cout</gr> <re><<</re> a[i] <re><<</re> <gr>" "</gr>;</t></t><br>
                <t>}</t><br>
                }<br>
                <br>
                <bl>int</bl> main()<br>
                {<br>
                <t><bl>int</bl> arr[<pu>5</pu>] = {<pu>1</pu>, <pu>2</pu>, <pu>3</pu>, <pu>4</pu>, <pu>5</pu>};</t><br>
                <t>print(arr, <pu>5</pu>);</t><br>
                }<br>
            </code>
        </div>
        Этот код выводит на экран массив <b>arr</b>. Вы передаете в функцию сам массив и количество элементов в нем.
        <p>
        Для закрепления теоретического материала пройдите тест и решите все задачи по этой теме.
        </p>
        <div class="taskLink" onclick="goToTask()">Перейти к задачам</div>
        </p>
        <div class="test">
            <div class="testTitle">Тест</div>
            <hr>
            <form onsubmit="checkForm(3); return false" name="testForm">
                <div class="test_stm">1. Зачем нужны функции?</div><br>
                <div class="question" id="question0">
                    <span class="que0" onclick="c(0, 0)"><input type="radio" name="0" value="1"> Чтобы было легко изменять часто повторяющиеся блоки кода<br></span>
                    <span class="que0" onclick="c(0, 1)"><input type="radio" name="0" value="0"> Чтобы ускорить работу программы<br></span>
                    <span class="que0" onclick="c(0, 2)"><input type="radio" name="0" value="0"> Чтобы дать пояснение к работе блока кода<br></span>
                </div>
                <br>
                <div class="test_stm">2. Какое максимальное число параметров может принимать функция?</div><br>
                <div class="question" id="question1">
                    <span class="que1" onclick="c(1, 0)"><input type="radio" name="1" value="0"> 3<br></span>
                    <span class="que1" onclick="c(1, 1)"><input type="radio" name="1" value="0"> 5<br></span>
                    <span class="que1" onclick="c(1, 2)"><input type="radio" name="1" value="1"> Это число не ограничено<br></span>
                </div>
                <br>
                <div class="test_stm">3. Что выведет данный блок кода?</div><br>
                <div class="code_block_b">
                    <code>
                        <bl>int</bl> x = <pu>4</pu>;<br>
                        <bl>if</bl> (<bl>true</bl>)<br>
                        {<br>
                        <t><bl>int</bl> x = <pu>2</pu>;</t><br>
                        <t><bl>if</bl> (<bl>true</bl>)<br></t>
                        <t>{</t><br>
                        <t><t>x = <pu>7</pu></t></t>;<br>
                        <t>}</t><br>
                        <t><gr>cout</gr> <re><<</re> x;</t><br>
                        }<br>
                    </code>
                </div>
                <div class="question" id="question2">
                    <span class="que2" onclick="c(2, 0)"><input type="radio" name="2" value="0"> 4<br></span>
                    <span class="que2" onclick="c(2, 1)"><input type="radio" name="2" value="0"> 2<br></span>
                    <span class="que2" onclick="c(2, 2)"><input type="radio" name="2" value="1"> 7<br></span>
                    <span class="que1" onclick="c(2, 3)"><input type="radio" name="2" value="0"> Ошибка компиляции<br></span>
                </div>
                <br>
                <div style="width: 100%; text-align: center">
                    <div class="testError hide" id="testError">Ответьте на все вопросы<br></div>
                    <div class="testResult hide" id="testResult"></div>
                    <input type="submit" value="Проверить" class="submit">
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>